<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Edit Inventory</title>
    <link rel="icon" type="image/x-icon" th:href="@{/images/favicon.ico}" />
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        .error {
            color: red;
            font-size: 0.875em;
            display: block;
        }
        .require {
            color: red;
        }
        input::placeholder {
            font-size: 0.9em;
        }
        select.form-select {
            height: 38px;
            font-size: 0.9em;
        }
        button {
            font-size: 14px;
        }
        .btn-sm {
            padding: 5px 10px;
            font-size: 12px;
        }
        h2 {
            text-align: center;
            text-transform: uppercase;
        }
    </style>
</head>
<body>
<!-- Header -->
<div th:replace="~{fragments/navbar.html :: barNav}"></div>
<div class="container-fluid d-flex flex-grow-1">
    <div class="row w-100">
        <!-- Sidebar Fragment -->
        <div th:replace="~{fragments/sidebar.html :: barSide}"></div>
        <!-- Main Content -->
        <div class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
            <div class="container mt-4">
                <h2>EDIT INVENTORY</h2>
                <form id="inventoryForm" th:action="@{/inventory/update}" th:object="${inventory}" method="post" onsubmit="return validateInventoryForm()">
                <input type="hidden" th:field="*{id}">
                    <input type="hidden" th:field="*{createdBy}">
                    <input type="hidden" th:field="*{createdOn}">
                    <input type="hidden" th:field="*{updatedOn}">
                    <input type="hidden" th:field="*{updatedBy}">
                    <input type="hidden" th:field="*{guidOfInventory}">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="mb-2">
                                <label for="groupName" class="form-label">Product Group Name <span class="require">*</span></label>
                                <select class="form-select" id="groupName" th:field="*{groupName}">
                                    <option value="" disabled>Select a Product Group</option>
                                    <option th:each="group : ${stockGroups}" th:value="${group}" th:text="${group}"
                                            th:selected="${group == inventory.groupName}">
                                    </option>
                                </select>
                                <div id="groupNameError" class="error"></div>
                            </div>
                            <div class="mb-2">
                                <label for="subGroupName" class="form-label">Sub Group Name</label>
                                <input type="text" class="form-control" id="subGroupName" th:field="*{subGroupName}">
                            </div>
                            <div class="mb-2">
                                <label for="make" class="form-label">Make <span class="require">*</span></label>
                                <input type="text" class="form-control" id="make" th:field="*{make}" >
                                <div id="makeError" class="error"></div>
                            </div>
                            <div class="mb-2">
                                <label for="model" class="form-label">Model <span class="require">*</span></label>
                                <input type="text" class="form-control" id="model" th:field="*{model}" >
                                <div id="modelError" class="error"></div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-2">
                                <label for="productCode" class="form-label">Product Code <span class="require">*</span></label>
                                <input type="text" class="form-control" id="productCode" th:field="*{productCode}" >
                                <div id="productCodeError" class="error"></div>
                            </div>
                            <div class="mb-2">
                                <label for="itemName" class="form-label">Item Name</label>
                                <input type="text" class="form-control" id="itemName" th:field="*{itemName}" readonly>
                            </div>
                            <div class="mb-2">
                                <label for="hsnCode" class="form-label">HSN Code</label>
                                <input type="text" class="form-control" id="hsnCode" th:field="*{hsnCode}">
                                <div id="hsnCodeError" class="error"></div>
                            </div>
                            <div class="mb-2">
                                <label for="baseUnit" class="form-label">Quantity (Units of Measure)<span class="require">*</span></label>
                                <select class="form-select" id="baseUnit" th:field="*{baseUnit}" >
                                    <option value="" disabled selected>Select Unit</option>
                                    <option value="Nos">Nos</option>
                                    <option value="Doz">Doz</option>
                                    <option value="Kgs">Kgs</option>
                                </select>
                                <div id="baseUnitError" class="error"></div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-2">
                                <label for="openingBalance" class="form-label">Opening Balance</label>
                                <input type="number" class="form-control" id="openingBalance" th:field="*{openingBalance}">
                                <div id="openingBalanceError" class="error"></div>
                            </div>
                            <div class="mb-2">
                                <label for="openingValue" class="form-label">Opening Value</label>
                                <input type="number" class="form-control" id="openingValue" th:field="*{openingValue}">
                                <div id="openingValueError" class="error"></div>
                            </div>
                            <div class="mb-2">
                                <label for="igstRate" class="form-label">GST Rate <span class="require">*</span></label>
                                <input type="number" class="form-control" id="igstRate" th:field="*{igstRate}" >
                                <div id="igstRateError" class="error"></div>
                            </div>
                        </div>
                    </div>
                    <div class="row submit-buttons mt-3">
                        <div class="col text-center">
                            <button type="submit" class="btn btn-primary btn-sm">Update</button>
                            <a th:href="@{/inventory/display}" class="btn btn-secondary btn-sm">Cancel</a>
                        </div>
                    </div>
                </form>
                <br>
            </div>
        </div>
    </div>
</div>
<!-- Footer -->
<div th:replace="~{fragments/footer :: footerBar}"></div>
<script type="text/javascript" th:src="@{/js/urlConstant.js}"></script>
<script type="text/javascript" th:src="@{/js/inventoryEdit.js}"></script>
</body>
</html>